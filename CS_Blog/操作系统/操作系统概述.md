# 操作系统概述

## 计算机系统的层次结构

**![image.png](https://cdn.nlark.com/yuque/0/2020/png/1693220/1599121746820-d2c17cfb-b68d-418a-b090-b9ea65be11c1.png)**

## 操作系统的定义

> 定义：操作系统是计算机系统中的一个系统软件，它帮助组织和管理计算机的软硬件资源，组织计算机的工作流程，控制程序的执行并向用户提供各种服务功能。

## 操作系统的功能

> 功能：
>
> 1. 处理机管理
> 2. 存储管理
> 3. 设备管理
> 4. 文件管理
> 5. 用户接口

## 操作系统的作用

> 作用：操作系统承担与硬件相关、与应用无关的基本工作，并解决这些基本工作中的效率和安全问题
>
> 现代操作系统C/S架构下，OS分为：①运行在用户态并以C/S方式活动的服务进程；②运行在核心态的内核。内核是对硬件的首次扩充
>

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1693220/1599121899277-fed52f57-8f59-4249-a93a-c3bd5fd38099.png)

## 操作系统的类型

### 1.批处理操作系统

#### 批处理

> 联机批处理
>
> 联机：IO设备与主机直接连接
>
> 批处理：数据成批的进入，结果成批的出来

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1693220/1599122352852-ed7cf07e-9675-4953-adf7-1fafc915bd17.png)

> 脱机批处理
>
> 脱机：增加一台不与主机直接相连而专门与IO设备交换信息的卫星机
>
> 卫星机作用：
>
> 1. 输入设备通过卫星机将作业输入到输入带
> 2. 输出带通过卫星机将结果输出到输出设备

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1693220/1599122660317-a40ac5ed-520a-4ec1-91a7-bf7a8a1ec5b2.png)

#### 单道程序系统与多道程序系统

> 单道程序系统：每次只调一个用户作业程序进入内存并运行

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1693220/1599122986352-c14653a3-29c9-4efa-b715-5bf74f955426.png)

> 多道程序系统：每次可调多个用户作业程序进入内存并运行
>
> 特点：
>
> 1. 宏观上并行，多个程序均在进行
> 2. 微观上串行，多个程序轮流使用CPU
>
> 优点：
>
> 1. 资源利用率高： CPU 和内存利用率较高
> 2. 作业吞吐量大：单位时间内完成的工作总量大
>
> 缺点：
>
> 1. 用户交互性差：整个作业完成后或中间出错时，才与用户交互，不利调试和修改
> 2. 作业平均周转时间长：短作业的周转时间显著增长

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1693220/1599123291173-542f4549-69f3-40ea-8c77-0c0deb54a74e.png)

总结：批处理和多道程序系统结合，才能真正提高效率

### 2.分时操作系统

> 分时操作系统：将多个用户或多个程序分时，执行时，把计算机的系统资源（尤其是 CPU 时间）进行时间上的分割，每个时间段称为一个时间片（time slice），每个用户（程序）依次轮流使用时间片
>
> 时间片：把一段CPU时间按照固定单位进行分割，每个分割得到的时间段称为一个时间片
>
> 特点：
>
> 1. 多路性：允许在一台主机上同时连接多台联机终端，系统按分时原则为每个用户服务
> 2. 独立性：每个用户各占一个终端，彼此独立工作
> 3. 及时性：用户的请求在很短的时间内能够获得响应
> 4. 交互性：用户可以通过终端与系统进行广泛的对话
>
> 综上：分时操作系统是一个联机（on-line）、多用户（multi-user）、交互式（interactive）的操作系统

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1693220/1599124897924-aa2aefc3-9361-4d2f-ae40-6daf31ab1776.png)

### 3.网络操作系统

> 网络操作系统：网络操作系统能够控制计算机在网络中方便地传送信息和共享资源，并能为网络用户提供各种所需的服务。
>
> 功能：
>
> 1. 网络通信： 在源计算机和目标计算机之间实现无差错的数据传送
> 2. 资源管理： 对网络中的硬、软件资源实施管理
> 3. 网络管理： 安全控制、性能监测、维护功能
> 4. 网络服务： 如 e-mail、文件传输、共享设备服务、远程作业录入等 
>
> 例如：Unix、NetWare、Windows NT Server等

### 4.分布式操作系统

> 分布式计算机系统：由多台分散的计算机经互联网络连接而成的系统 。
>
> 管理分布式计算机系统的操作系统称为分布式操作系统
>
> 
>
> 集中式操作系统与分布式操作系统的区别：
>
> 1. 进程通信：集中式简单，分布式涉及机构、规程和路径算法；
>
> 1. 资源管理：集中式，一类资源由一个管理程序管理；分布式， 一类资源由多个管理程序管理， 这些程序必须协调一致工作；
>
> 1. 系统结构：分布式，有若干相对独立的部分，分布在各台计算机上。
>
> 
>
> 分布式操作系统与网络操作系统的区别：
>
> 1. 耦合程度：分布式系统是紧密耦合系统：分布式 OS 是在各机上统一建立的“OS同质”，直接管理 CPU、存储器和外设；统一进行全系统的管理；网络通常容许异种 OS 互连，各机上各种服务程序需按相同网络协议“协议同质”。
>
> 1. 并行性：分布式 OS 可以将一个进程分散在各机上并行执行“进程迁移”  ;网络则各机上的进程独立
>
> 1. 透明性：  用户是否知道或指定资源在哪个机器上（如 CPU、 内存或外设）,分布式系统的网络资源调度对用户透明，用户不了解所占有资源的位置；网络操作系统中对网络资源的使用要由用户明确指定。
>
> 1. 健壮性： 分布式系统要求更强的容错能力

### 其他操作系统

> 通用操作系统、微机操作系统、实时操作系统、嵌入式操作系统

## 操作系统的特征

> 特征：
>
> 1. 并发：并发是指在计算机系统内同时存在有多个程序，宏观上，这些程序是同时向前推进的 ，但在微观上，一个处理机在任意时刻均只能处理一个任务。程序的静态实体是可执行文件，而动态实体是进程（或称作任务）， 并发指的是进程并发。
>
> 1. 1. 并行与并发的区别
>
> 1. 1. 1. 并行：两个或者多个作业在同一时刻运行
>       2. 并发：两个或者多个作业在同一时间间隔内依此运行
>
> 1. 共享：共享是指多个进程共同使用有限的计算机系统资源，资源在一个时间段内交替被多个进程所用。
>
> 1. 1. 针对不同的资源，共享方式有：互斥共享、同时访问
>
> 1. 虚拟：虚拟是指一个物理实体映射为若干个对应的逻辑实体——分时或分空间，操作系统管理系统资源的重要手段，可提高资源利用率 。
>
> 1. 1. CPU：每个用户（进程）的“虚处理机”；
>    2. 存储器：每个进程都占有的地址空间，即“虚拟存储器”；
>    3. 显示设备：多窗口或虚拟终端（virtual terminal）；
>    4. 独享设备：通过假脱机技术（Spooling）可以实现“共享”，共享的是虚设备
>
> 1. 异步：异步是指进程的执行顺序和执行时间的不确定性
>
> 其他特征：微内核结构、多线程、对称多处理、分布式操作系统、面向对象设计等

## 什么是中断？

> 中断：指当出现需要时，CPU暂时停止当前程序的执行，转而执行处理新情况的程序和执行过程
>
> 中断号：外部设备进行IO操作时产生的中断信号，发送给CPU
>
> 中断向量：中断服务程序的入口地址
>
> 中断服务程序：执行中断处理的代码
>
> 操作系统是中断驱动

## 双重模式

> 操作系统的模式分为：
>
> 1. 用户模式（User Mode）
> 2. 内核模式（Kernel Mode）
>
> 两个模式在必要时相互转换
>
> 存在的意义：程序运行中可能会产生错误或者特定请求异常或者陷阱，双重模式允许OS保护自身和其他系统部件

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1693220/1599210059633-a931d009-0da9-48cd-932f-df8e51b1b1b3.png)